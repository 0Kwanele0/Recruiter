(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{4167:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(3481)}])},3481:function(e,r,n){"use strict";n.r(r);var t=n(4051),o=n.n(t),c=n(5893),s=n(1339),i=n.n(s),a=n(7294),u=n(7536),l=n(1664),d=n.n(l),h=n(1163);function f(e,r,n,t,o,c,s){try{var i=e[c](s),a=i.value}catch(u){return void n(u)}i.done?r(a):Promise.resolve(a).then(t,o)}function p(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var c=e.apply(r,n);function s(e){f(c,t,o,s,i,"next",e)}function i(e){f(c,t,o,s,i,"throw",e)}s(void 0)}))}}function v(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function g(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){v(e,r,n[r])}))}return e}r.default=function(){var e,r,n=function(e){switch(e.target.innerText){case"Developer":return w(!0),y(!1),N.current.style.backgroundColor="white",void(P.current.style.backgroundColor="#2fe032");case"Recruiter":return y(!0),w(!1),N.current.style.backgroundColor="#2fe032",void(P.current.style.backgroundColor="white")}},t=(0,h.useRouter)(),s=(0,a.useState)(!1),l=s[0],f=s[1],v=(0,a.useState)(),m=v[0],x=v[1],b=(0,a.useState)(!1),k=b[0],y=b[1],j=(0,a.useState)(!1),_=j[0],w=j[1],C=(0,a.useState)(!1),O=C[0],S=C[1],N=(0,a.useRef)(),P=(0,a.useRef)(),E=(0,u.cI)(),D=E.register,R=E.handleSubmit,T=E.formState.errors;return(0,a.useEffect)((function(){localStorage.getItem("recruiter-x-auth-token")?(t.reload(),t.push("/devs")):f(!0)}),[]),(0,c.jsx)("div",{children:l?(0,c.jsx)("div",{className:i().container,children:(0,c.jsxs)("form",{onSubmit:R((function(e){_?fetch("".concat("https://dev-recruiter.herokuapp.com","/user/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(){var e=p(o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.json();case 2:n=e.sent,200==r.status?(localStorage.setItem("recruiter-x-auth-token",JSON.stringify(n)),t.push("/devs"),x()):x(n.msg);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()):k?fetch("".concat("https://dev-recruiter.herokuapp.com","/recruiter/login"),{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify(e)}).then(function(){var e=p(o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.json();case 2:n=e.sent,200==r.status?(localStorage.setItem("recruiter-x-auth-token",JSON.stringify(n)),x(),t.push("/devs")):x(n.msg);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()):S(!0)})),action:"submit",children:[(0,c.jsx)("h3",{children:"Hey! welcome back!"}),(0,c.jsx)("input",g({},D("email",{required:!0}),{type:"email",placeholder:"Email"})),"required"===(null===(e=T.email)||void 0===e?void 0:e.type)&&(0,c.jsx)("small",{children:"Email is required"}),(0,c.jsx)("input",g({},D("password",{required:!0}),{placeholder:"Password",type:"text"})),"required"===(null===(r=T.password)||void 0===r?void 0:r.type)&&(0,c.jsx)("small",{children:"Password is required"}),(0,c.jsxs)("div",{className:i().recOrDev,children:[(0,c.jsx)("p",{children:"Are you a Develper or a recruiter?"}),(0,c.jsxs)("div",{className:i().checkboxContainer,children:[(0,c.jsxs)("div",{className:i().checkbox,children:[(0,c.jsx)("div",{onClick:function(e){y(!0),w(!1),N.current.style.backgroundColor="#2fe032",P.current.style.backgroundColor="white"},ref:N,className:i().check}),(0,c.jsx)("p",{onClick:n,children:"Recruiter"})]}),(0,c.jsxs)("div",{className:i().checkbox,children:[(0,c.jsx)("div",{onClick:function(e){w(!0),y(!1),N.current.style.backgroundColor="white",P.current.style.backgroundColor="#2fe032"},ref:P,className:i().check}),(0,c.jsx)("p",{onClick:n,children:"Developer"})]})]}),O?(0,c.jsx)("small",{children:"Please select one!"}):null]}),(0,c.jsx)("button",{type:"submit",children:"Login"}),m?(0,c.jsx)("small",{children:m}):null,(0,c.jsx)(d(),{href:"/resetpassword",children:"Forgot password?"}),(0,c.jsxs)("p",{className:i().referParagraph,children:["You don`'`t have an account?"," ",(0,c.jsx)("span",{children:(0,c.jsx)(d(),{href:"/register",children:"Register here"})}),"!"]})]})}):(0,c.jsx)(c.Fragment,{})})}},1339:function(e){e.exports={container:"login_container__Y2boa",referParagraph:"login_referParagraph__BQsRY",recOrDev:"login_recOrDev__nsdyN",checkboxContainer:"login_checkboxContainer__cDkBc",checkbox:"login_checkbox__M_zZL",check:"login_check__Qrgp5",complete:"login_complete__0FHt2"}}},function(e){e.O(0,[536,774,888,179],(function(){return r=4167,e(e.s=r);var r}));var r=e.O();_N_E=r}]);